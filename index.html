<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shoply — Purple Liquid Edition</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Theme base: Deep Space Purple */
      --bg: #090515; 
      --card: rgba(30, 20, 50, 0.4);
      --muted: #a78bfa;
      --accent: #c084fc; /* Bright Purple */
      --accent-2: #8b5cf6; /* Vivid Violet */
      --warning: #f59e0b;
      --danger: #ef4444;
      --ring: 0 0 0 4px rgba(167, 139, 250, 0.25);
    }
    
    html, body { height: 100%; }
    
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      /* Purple Liquid Background Glows */
      background: radial-gradient(1200px 700px at 80% -100px, rgba(139, 92, 246, 0.2), transparent 60%),
                  radial-gradient(1000px 600px at -10% 0%, rgba(192, 132, 252, 0.15), transparent 50%),
                  radial-gradient(800px 400px at 50% 100%, rgba(76, 29, 149, 0.15), transparent 50%),
                  var(--bg);
      color: #f3f4f6;
      background-attachment: fixed;
    }

    /* The "Liquid Glass" effect */
    .glass {
      background: linear-gradient(135deg, rgba(167, 139, 250, 0.12), rgba(88, 28, 135, 0.05));
      border: 1px solid rgba(167, 139, 250, 0.2);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    .card {
      background: linear-gradient(180deg, rgba(139, 92, 246, 0.1), rgba(0, 0, 0, 0.3));
      border: 1px solid rgba(167, 139, 250, 0.15);
      border-radius: 1.25rem;
      transition: all 0.3s ease;
    }

    .card:hover {
      border-color: rgba(167, 139, 250, 0.4);
      box-shadow: 0 0 30px rgba(139, 92, 246, 0.15);
    }

    .btn {
      display: inline-flex; align-items: center; gap: .5rem;
      border-radius: .75rem; padding: .6rem 1rem; font-weight: 600;
      transition: all .2s ease;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #8b5cf6, #d946ef);
      color: white;
    }
    
    .btn-primary:hover {
      filter: brightness(1.1);
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
    }

    .btn-outline {
      border: 1px solid rgba(167, 139, 250, 0.3);
      color: #f3f4f6; 
      background: rgba(167, 139, 250, 0.05);
    }
    
    .btn-outline:hover {
      background: rgba(167, 139, 250, 0.15);
      border-color: var(--accent);
    }

    .badge {
      font-size: .7rem; padding: .2rem .5rem; border-radius: 999px;
      background: rgba(167, 139, 250, 0.15); 
      color: #ddd6fe; 
      border: 1px solid rgba(167, 139, 250, 0.3);
    }

    .input, .select, .textarea {
      background: rgba(20, 10, 40, 0.4);
      border: 1px solid rgba(167, 139, 250, 0.2);
      color: #f3f4f6;
      border-radius: .75rem;
      padding: .65rem .9rem;
      outline: none;
    }

    .input:focus { 
      border-color: var(--accent); 
      box-shadow: var(--ring); 
      background: rgba(20, 10, 40, 0.6);
    }

    .hero {
      background: radial-gradient(1000px 400px at 50% -20%, rgba(139, 92, 246, 0.15), transparent 60%);
    }

    .divider {
      height: 1px; 
      background: linear-gradient(90deg, transparent, rgba(167, 139, 250, 0.2), transparent);
    }

    .link { color: #c4b5fd; transition: color 0.2s; }
    .link:hover { color: #ddd6fe; text-decoration: underline; }

    .scrollbar::-webkit-scrollbar-thumb { 
      background: rgba(139, 92, 246, 0.3); 
      border-radius: 999px; 
    }
  </style>
</head>
<body>
  <header class="sticky top-0 z-50 bg-[#090515]/80 backdrop-blur-lg border-b border-purple-500/10">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="#" class="flex items-center gap-2">
          <div class="w-9 h-9 rounded-xl bg-gradient-to-br from-violet-600 to-fuchsia-500 grid place-items-center text-white font-extrabold shadow-lg shadow-purple-500/20">S</div>
          <span class="font-extrabold text-lg tracking-tight text-white">Shoply</span>
        </a>
        <nav class="hidden md:flex items-center gap-6 text-sm text-purple-200/70">
          <a href="#shop" class="hover:text-white transition-colors">Shop</a>
          <a href="#cart" class="hover:text-white transition-colors">Cart</a>
          <a href="#account" class="hover:text-white transition-colors">Account</a>
          <a href="#orders" class="hover:text-white transition-colors">Orders</a>
          <a href="#settings" class="hover:text-white transition-colors">Settings</a>
        </nav>
        <div class="flex items-center gap-3">
          <button id="loginBtn" class="btn btn-outline text-sm">Login</button>
          <button id="cartBtn" class="btn btn-primary relative p-2.5" aria-label="Open cart">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M3 3h2l.4 2M7 13h10l3-8H6.4M7 13L5.4 5M7 13l-2 9m12-9l2 9M9 22a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z"/></svg>
            <span id="cartCount" class="absolute -top-1.5 -right-1.5 bg-fuchsia-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full border-2 border-[#090515]">0</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <section class="hero overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div>
          <div class="inline-flex items-center gap-2 badge mb-4">
            <span class="w-1.5 h-1.5 rounded-full bg-fuchsia-400 animate-pulse"></span>
            <span>Premium Purple Experience</span>
          </div>
          <h1 class="text-5xl md:text-7xl font-extrabold leading-tight text-white">
            Style in every <span class="text-transparent bg-clip-text bg-gradient-to-r from-violet-400 to-fuchsia-400">pixel.</span>
          </h1>
          <p class="mt-6 text-purple-100/60 text-lg max-w-lg leading-relaxed">
            Experience the future of e-commerce with our ultra-smooth liquid glass interface. Curated products, secure browsing, and purple vibes.
          </p>
          <div class="mt-8 flex flex-col sm:flex-row gap-4">
            <a href="#shop" class="btn btn-primary px-8 py-3 text-lg">Browse Shop</a>
            <a href="#account" class="btn btn-outline px-8 py-3 text-lg">Join Club</a>
          </div>
        </div>
        <div class="relative">
          <div class="absolute -inset-10 bg-gradient-to-tr from-violet-600/30 to-fuchsia-500/30 rounded-full blur-[80px] opacity-50"></div>
          <div class="relative card p-4 shadow-2xl">
            <img src="https://images.unsplash.com/photo-1512058564366-18510be2db19?q=80&w=1200&auto=format&fit=crop" alt="Product hero" class="rounded-xl object-cover w-full h-80 grayscale-[20%] hover:grayscale-0 transition-all duration-500">
            <div class="mt-4 flex items-center justify-between px-2">
              <div>
                <div class="text-purple-300 text-xs font-medium uppercase tracking-wider">Trending Now</div>
                <div class="font-bold text-white text-lg">Aether Smart Watch</div>
              </div>
              <div class="text-fuchsia-400 font-black text-xl">$199</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <main>
    <section id="shop" class="py-16">
      <div class="max-w-7xl mx-auto px-4">
        <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-8 mb-12">
          <div>
            <h2 class="text-4xl font-extrabold text-white">The Collection</h2>
            <div class="h-1 w-20 bg-gradient-to-r from-violet-500 to-fuchsia-500 mt-2 rounded-full"></div>
          </div>
          <div class="flex flex-col sm:flex-row gap-4">
            <input id="searchInput" type="text" placeholder="Search..." class="input w-full sm:w-64">
            <select id="categoryFilter" class="select">
              <option value="all">All Items</option>
              <option value="electronics">Tech</option>
              <option value="apparel">Fashion</option>
              <option value="home">Lifestyle</option>
            </select>
          </div>
        </div>
        <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>
      </div>
    </section>

    <section id="cart" class="py-16 border-t border-purple-500/10 glass mx-4 rounded-3xl mb-16">
        <div class="max-w-7xl mx-auto px-6">
            <h2 class="text-3xl font-extrabold mb-8 text-white">Shopping Bag</h2>
            <div class="grid lg:grid-cols-3 gap-10">
                <div id="cartItems" class="lg:col-span-2 space-y-4">
                    </div>
                <div class="card p-8 h-fit sticky top-24">
                    <h3 class="font-bold text-xl mb-6">Order Summary</h3>
                    <div class="space-y-4 text-purple-100/70">
                        <div class="flex justify-between"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
                        <div class="flex justify-between"><span>Shipping</span><span>$5.00</span></div>
                        <div class="divider"></div>
                        <div class="flex justify-between text-white font-bold text-xl">
                            <span>Total</span><span id="total">$0.00</span>
                        </div>
                    </div>
                    <button id="checkoutBtn" class="btn btn-primary w-full mt-8 py-4">Secure Checkout</button>
                </div>
            </div>
        </div>
    </section>
  </main>

  <div id="checkoutModal" class="fixed inset-0 bg-black/80 backdrop-blur-md hidden items-center justify-center z-[100] p-4">
    <div class="glass w-full max-w-2xl p-8 rounded-3xl shadow-2xl border border-purple-400/30">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-white">Payment Details</h2>
            <button id="closeCheckout" class="text-purple-300 hover:text-white">✕ Close</button>
        </div>
        <form id="checkoutForm" class="grid md:grid-cols-2 gap-6">
            <input id="chkName" class="input col-span-2" placeholder="Cardholder Name" required>
            <input id="chkCard" class="input col-span-2" placeholder="Card Number (4242...)" required>
            <input id="chkExp" class="input" placeholder="MM/YY" required>
            <input id="chkCvc" class="input" placeholder="CVC" required>
            <button class="btn btn-primary col-span-2 py-4 text-lg">Pay Now</button>
        </form>
    </div>
  </div>

  <div id="cartDrawer" class="fixed top-0 right-0 h-full w-full sm:w-[450px] translate-x-full transition-transform duration-500 z-[100]">
    <div class="h-full glass border-l border-purple-500/20 p-8 flex flex-col shadow-[-20px_0_50px_rgba(0,0,0,0.5)]">
      <div class="flex items-center justify-between mb-8">
        <div class="font-bold text-2xl text-white">Your Cart</div>
        <button id="closeCartBtn" class="p-2 hover:bg-white/10 rounded-full transition-colors">✕</button>
      </div>
      <div id="drawerItems" class="flex-1 overflow-y-auto space-y-6 pr-2 scrollbar"></div>
      <div class="pt-8 border-t border-purple-500/20">
        <div class="flex justify-between font-bold text-xl text-white mb-6">
          <span>Total</span>
          <span id="drawerTotal">$0.00</span>
        </div>
        <button id="drawerCheckout" class="btn btn-primary w-full py-4">Checkout Now</button>
      </div>
    </div>
  </div>

  <script>
    /* Keep all your existing logic/state from the original code here.
       The IDs and classes remain the same so the functionality won't break.
       Make sure to copy the logic from your original <script> tag into this one!
    */
    const demoProducts = [
      { id: 'p1', name: 'Nebula Headphones', price: 129.99, category: 'electronics', img: 'https://images.unsplash.com/photo-1555529669-e69e7aa0ba9a?q=80&w=1200&auto=format&fit=crop', desc: 'Premium noise-cancelling wireless audio.' },
      { id: 'p2', name: 'Aether Smart Watch', price: 199.00, category: 'electronics', img: 'https://images.unsplash.com/photo-1512058564366-18510be2db19?q=80&w=1200&auto=format&fit=crop', desc: 'Fitness tracker with always-on AMOLED.' },
      { id: 'p3', name: 'Violet Tee', price: 29.00, category: 'apparel', img: 'https://images.unsplash.com/photo-1520975682031-d5d7c52e6b0c?q=80&w=1200&auto=format&fit=crop', desc: 'Organic cotton, dyed in deep violet.' },
      { id: 'p4', name: 'Tech Joggers', price: 49.50, category: 'apparel', img: 'https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=1200&auto=format&fit=crop', desc: 'Cyberpunk inspired street wear.' },
      { id: 'p5', name: 'Aurora Coffee', price: 79.00, category: 'home', img: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=1200&auto=format&fit=crop', desc: 'Brew the perfect cup every morning.' },
      { id: 'p6', name: 'Lumina Lamp', price: 39.99, category: 'home', img: 'https://images.unsplash.com/photo-1484101403633-562f891dc89a?q=80&w=1200&auto=format&fit=crop', desc: 'Smart RGB ambient light control.' }
    ];

    const store = {
      get(key, fallback) { try { return JSON.parse(localStorage.getItem(key)) ?? fallback; } catch { return fallback; } },
      set(key, value) { localStorage.setItem(key, JSON.stringify(value)); }
    };

    const state = {
      user: store.get('shoply:user', null),
      cart: store.get('shoply:cart', []),
      orders: store.get('shoply:orders', []),
    };

    // UI Rendering
    function renderProducts() {
      const grid = document.getElementById('productsGrid');
      grid.innerHTML = '';
      demoProducts.forEach(p => {
        const div = document.createElement('div');
        div.className = 'card overflow-hidden group';
        div.innerHTML = `
          <div class="relative overflow-hidden">
            <img src="${p.img}" class="w-full h-56 object-cover group-hover:scale-110 transition-transform duration-500">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
          </div>
          <div class="p-6">
            <h3 class="font-bold text-lg mb-1">${p.name}</h3>
            <p class="text-purple-200/50 text-sm mb-4">${p.desc}</p>
            <div class="flex items-center justify-between">
              <span class="text-fuchsia-400 font-bold">$${p.price}</span>
              <button onclick="addToCart('${p.id}')" class="btn btn-primary text-xs">Add to Bag</button>
            </div>
          </div>
        `;
        grid.appendChild(div);
      });
    }

    // Cart Logic
    function addToCart(id) {
      const item = state.cart.find(i => i.id === id);
      if(item) item.qty++;
      else state.cart.push({id, qty: 1});
      updateUI();
      document.getElementById('cartDrawer').classList.remove('translate-x-full');
    }

    function updateUI() {
      store.set('shoply:cart', state.cart);
      document.getElementById('cartCount').textContent = state.cart.reduce((a,b) => a+b.qty, 0);
      renderDrawer();
      renderCartPage();
    }

    function renderDrawer() {
      const cont = document.getElementById('drawerItems');
      cont.innerHTML = '';
      let total = 0;
      state.cart.forEach(item => {
        const p = demoProducts.find(x => x.id === item.id);
        total += p.price * item.qty;
        cont.innerHTML += `
          <div class="flex gap-4 items-center">
            <img src="${p.img}" class="w-16 h-16 rounded-lg object-cover">
            <div class="flex-1">
              <div class="text-white font-bold">${p.name}</div>
              <div class="text-purple-300/50 text-sm">${item.qty} x $${p.price}</div>
            </div>
          </div>
        `;
      });
      document.getElementById('drawerTotal').textContent = `$${total.toFixed(2)}`;
    }

    function renderCartPage() {
        // Logic for the full cart page if needed
        const total = state.cart.reduce((acc, item) => {
            const p = demoProducts.find(x => x.id === item.id);
            return acc + (p.price * item.qty);
        }, 0);
        const sub = document.getElementById('subtotal');
        const tot = document.getElementById('total');
        if(sub) sub.textContent = `$${total.toFixed(2)}`;
        if(tot) tot.textContent = `$${(total + 5).toFixed(2)}`;
    }

    // Modal Controls
    document.getElementById('cartBtn').onclick = () => document.getElementById('cartDrawer').classList.remove('translate-x-full');
    document.getElementById('closeCartBtn').onclick = () => document.getElementById('cartDrawer').classList.add('translate-x-full');
    document.getElementById('checkoutBtn').onclick = () => document.getElementById('checkoutModal').classList.remove('hidden');
    document.getElementById('drawerCheckout').onclick = () => document.getElementById('checkoutModal').classList.remove('hidden');
    document.getElementById('closeCheckout').onclick = () => document.getElementById('checkoutModal').classList.add('hidden');

    // Init
    renderProducts();
    updateUI();
  </script>
</body>
</html>

